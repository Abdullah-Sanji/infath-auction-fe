<div class="flex flex-col gap-0 pb-0 pt-0 px-0 shrink-0">
  <div
    class="bg-white flex flex-col gap-6 overflow-clip pb-5 pt-0 px-0 rounded-3xl shadow-md shrink-0"
  >
    <!-- User Info Section -->
    <div
      class="border-b border-gray-200 flex flex-col gap-4 justify-center pb-6 pt-5 px-5 w-full"
    >
      <!-- Welcome Message with Avatar -->
      <div class="flex gap-1 w-full">
        <!-- Small Avatar -->
        <div class="relative shrink-0 size-[46px]">
          @if (shouldShowAvatar()) {
          <img
            [src]="profile()!.avatarUrl"
            [alt]="fullName()"
            class="absolute inset-0 rounded-full border border-white object-cover"
            (error)="onImageError()"
          />
          } @else {
          <div
            class="absolute bg-tertiary-50 border border-white inset-0 rounded-full flex items-center justify-center"
          >
            <p class="text-xl font-medium text-black capitalize">
              {{ userInitials() }}
            </p>
          </div>
          }
        </div>

        <!-- Name Card -->
        <div class="basis-0 flex flex-col gap-4 grow min-h-px min-w-px ps-2 py-2 rounded-2xl">
          <div class="flex items-center justify-center w-full">
            <p class="basis-0 text-xl font-semibold grow min-h-px min-w-px text-gray-900">
              {{ 'profile.welcome' | transloco }} {{ fullName() }}!
            </p>
          </div>
        </div>
      </div>

      <!-- Stats Container -->
      <div class="flex gap-4 px-0 py-0 w-full">
        <!-- Favorites Card -->
        <div
          class="basis-0 bg-white border border-gray-200 flex gap-! grow items-start min-h-px min-w-px p-2 rounded-lg"
        >
          <div class="bg-yellow-50 flex items-center justify-center p-2 rounded-full me-2">
            <i class="pi pi-heart text-yellow-600 text-lg"></i>
          </div>
          <div class="flex flex-col font-bold gap-1 text-gray-900">
            <p class="font-normal text-sm">
              {{ 'profile.stats.favorites' | transloco }}
            </p>
            <p class="text-sm font-bold">
              {{ profile()?.favoritesCount || 0 }}
            </p>
          </div>
        </div>

        <!-- My Bids Card -->
        <div
          class="basis-0 bg-white border border-gray-200 flex gap-1 grow items-start min-h-px min-w-px p-2 rounded-lg"
        >
          <div class="bg-blue-50 flex items-center justify-center p-2 rounded-full me-2">
            <i class="pi pi-tag text-blue-600 text-xl"></i>
          </div>
          <div class="flex flex-col font-bold gap-1 text-gray-900">
            <p class="font-normal text-sm">
              {{ 'profile.stats.myBids' | transloco }}
            </p>
            <p class="text-sm font-bold">
              {{ profile()?.bidsCount || 0 }}
            </p>
          </div>
        </div>
      </div>
    </div>

    <!-- Account Menu Section -->
    <app-profile-menu-section
      [menuSection]="accountMenuItems()"
      (onMenuItemClick)="handleMenuItemClick($event)"
    />

    <!-- Preferences Menu Section -->
    <app-profile-menu-section
      [menuSection]="preferencesMenuItems()"
      (onMenuItemClick)="handleMenuItemClick($event)"
    />

    <!-- Sign Out Button -->
    <div class="flex flex-col px-5 py-0 w-full">
      <button
        type="button"
        class="bg-red-50 flex gap-1 h-10 items-center overflow-clip px-4 py-0 rounded w-full cursor-pointer"
        (click)="handleSignOut()"
      >
      <i class="pi pi-sign-out text-red-600 text-xl"></i>
      <span class="text-base font-medium text-red-600 ms-2">
        {{ 'profile.logout' | transloco }}
      </span>
      </button>
    </div>
  </div>
</div>

